---
import type { CollectionEntry } from 'astro:content';
import { stripLangFromSlug } from '@/i18n/utils';

type Props = {
  entry: CollectionEntry<'blog'> | CollectionEntry<'projects'>;
};

const { entry } = Astro.props;
const slug = stripLangFromSlug(entry.slug, entry.data.lang);
const href = `/${entry.data.lang}/${entry.collection}/${slug}`;
---

<a href={href} class="group block p-5 card-interactive">
  <div class="z-10 relative flex justify-between items-start gap-4">
    <div class="flex flex-col flex-1 min-w-0">
      <div
        class="font-semibold text-(--text-primary) group-hover:text-(--accent) transition-colors mb-1"
      >
        {entry.data.title}
      </div>
      <div class="text-sm text-(--text-secondary) line-clamp-2">
        {entry.data.description}
      </div>
    </div>
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="20"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="shrink-0 mt-0.5 text-(--text-secondary) group-hover:text-(--accent) transition-all group-hover:translate-x-1"
    >
      <path d="M5 12h14"></path>
      <path d="m12 5 7 7-7 7"></path>
    </svg>
  </div>
</a>
